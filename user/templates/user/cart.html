{% extends 'user/index.html' %}
{% block content %}
    <div class="row">
    <span id="invalid"></span>
        <div class="col-md-8 p-3">
            {% for cart in carts %}
                <div class="card shadow mt-1" style="height: 9em;">
                    <div class="card-horizontal" style="display: flex">
                        <div class="img-square-wrapper border">
                            <img class="img-fluid zoom" style="width: 8em; height: 9em;"
                                 src="{{ cart.product.image1_url }}"
                                 alt="Card image cap">
                        </div>
                        <div class="card-body p-4">
                            <div class="row">
                                <div class="col-md-6 mt-1">
                                    <h6 class="card-title mt-1">{{ cart.product.name }}</h6>
                                    <h6 class="card-title text-muted mt-1">CATEGORY: {{ cart.product.category }} </h6>
                                    <h6 class="card-title text-muted mt-1">SIZE: {{ cart.size }}</h6>
                                </div>
                                <div class="col-md-3">PRICE: {{ cart.product.price }}
                                    <br>
                                    TOTAL AMOUNT: <p id="{{ cart.id }}-price">{{ cart.total }}</p>
                                </div>
                                <div class="col-md-3">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <p class="small muted text-center">QTY:<span id="{{ cart.id }}-quantity"
                                                                                         class="mt-1 card-title text-success">{{ cart.quantity }}</span></p>
                                        </div>
                                        <div class="col-md-4">
                                            <a style="size: 2em; color: green" class="btn"
                                               onclick="addQuantity({{ cart.id }})">+</a>
                                        </div>
                                        <div class="col-md-4">
                                            <a style="size: 2em; color: red;" class="btn"
                                               onclick="reduceQuantity({{ cart.id }})">-</a>
                                        </div>
                                    </div>
                                    <a href="{% url 'remove-from-cart' cart.id %}">
                                        <button class="btn btn-danger">REMOVE ITEM</button>
                                    </a>
                                </div>
                            </div>
                            <p class="card-text"></p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="col-md-4">
            <div style="margin-left: 3em;" class="shadow card mt-5">
                <div class="card-body text-center">
                    <h5 class="card-title">AMOUNT DETAILS</h5>
                    <p class="card-text">
                        Total Amount for your products:<br>
                        <strong id="total-amount">{{ total }} </strong> rs
                    </p>
                    <a href="{% url 'payment-page' %}">
                        <button style="background-color: orangered" class="btn text-white">Place order</button>
                    </a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}