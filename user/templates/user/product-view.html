{% extends 'user/index.html' %}
{% block content %}
    {% load static %}
    {#    <div aria-live="polite" aria-atomic="true" class="position-relative">#}
    {#        <div style="display: none" id="product-added" class="alert alert-success alert-dismissable">#}
    {#            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>#}
    {#            Success! message sent successfully.#}
    {#        </div>#}
    <div class="row text-center bg-light" style="height: 5em">
        <h3 class="mt-3">PRODUCT DETAILS: </h3>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="row">
                <div class="col-md-12 text-center p-5">
                    <div class="card card-pic shadow-lg" style="width: 20em; height: 20em; margin-left: 10em">
                        <figure class="zoom" onmousemove="zoom(event)"
                                style="background-image: url({{ product.image1_url }});">
                            <img id="zoomImg"
                                 class="img-fluid border center-block shadow-lg rounded mx-auto d-block"
                                 src="{{ product.image1_url }}">
                        </figure>
                    </div>
                </div>
                <div class="col-md-6 p-5">
                    <div class="card shadow-lg" style="width: 10em; margin-left: 9em">
                        <figure class="zoom" onmousemove="zoom(event)"
                                style="background-image: url({{ product.image2_url }});">
                            <img id="zoomImg" class="img-fluid border shadow-lg rounded mx-auto d-block"
                                 src="{{ product.image2_url }}">
                        </figure>

                    </div>
                </div>
                <div class="col-md-6 p-5">
                    <div class="card shadow-lg" style="width: 10em;">
                        <figure class="zoom" onmousemove="zoom(event)"
                                style="background-image: url({{ product.image3_url }});">
                            <img id="zoomImg" class="img-fluid border shadow-lg rounded mx-auto d-block"
                                 src="{{ product.image3_url }}">
                        </figure>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <h5 style="margin-top: 5em">{{ product.name }}</h5>
            <p class="text-muted text-uppercase small">{{ product.sec_category }}</p>
            <p>PRICE: <span class="mr-1"><strong>{{ product.price }} rs</strong></span></p>
            <p class="pt-1"><span class="text-muted">Description:</span><br> {{ product.description }}</p>
            <div class="table-responsive">
                <table class="table table-sm table-borderless mb-0">
                    <tbody>
                    <tr>
                        <th class="pl-0 w-25" scope="row"><strong>Category</strong></th>
                        <td>{{ product.category }}</td>
                    </tr>
                    <tr>
                        <th class="pl-0 w-25" scope="row"><strong>Color</strong></th>
                        <td>Blue</td>
                    </tr>
                    <tr>
                        <th class="pl-0 w-25" scope="row"><strong>Availability</strong></th>
                        <td>{% if product.availability %}
                            <span style="color: green">Availabale</span>
                        {% else %}
                            <span style="color: red">Not available</span>
                        {% endif %}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="table-responsive mb-2">
                <table class="table table-sm table-borderless">
                    <tbody>
                    <tr>
                        <td class="pb-0">Select size</td>
                    </tr>
                    <tr>
                        <td>
                            <div class="mt-1">
                                <input type="radio" class="form-check-input mt-1" id="small" name="gender" value="small"
                                       checked>
                                <label class="mt-1" for="small">SMALL</label><br>
                                <input type="radio" class="form-check-input mt-1" id="medium" name="gender"
                                       value="medium">
                                <label class="mt-1" for="medium">MEDIUM</label><br>
                                <input type="radio" class="form-check-input mt-1" id="large" name="gender"
                                       value="large">
                                <label class="mt-1" for="large">LARGE</label>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <button type="button" style="background-color: orangered; width: 20em" class="btn text-white"
                    id="add-to-cart" onclick="addToCart('{{ product.id }}')">ADD TO CART
            </button>
        </div>
    </div>
    <!-- Position it: -->
    <!-- - `.toast-container` for spacing between toasts -->
    <!-- - `.position-absolute`, `top-0` & `end-0` to position the toasts in the upper right corner -->
    <!-- - `.p-3` to prevent the toasts from sticking to the edge of the container  -->
    <div style="margin-top: 8em" class="toast-container position-absolute top-0 end-0 p-3">

        <!-- Then put toasts within -->
        <div style="background-color: orangered; color: white;" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                {#                    <img src="..." class="rounded me-2" alt="...">#}
                <strong class="me-auto">Shopify</strong>
                <small class="text-muted">just now</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body ">
                Your Product Added to Cart Successfully
            </div>
        </div>

    </div>
    </div>
    <script>
        var zoomImg = document.getElementById("zoomImg")
        function zoom(e) {
            var zoomer = e.currentTarget;

            e.offsetX ? (offsetX = e.offsetX) : (offsetX[0] = e.pageX);
            e.offsetY ? (offsetY = e.offsetY) : (offsetX[0] = e.pageX);
            x = (offsetX / zoomer.offsetWidth) * 100;
            y = (offsetY / zoomer.offsetHeight) * 100;
            zoomer.style.backgroundPosition = x + "%" + " " + y + "%";
        }
    </script>

{% endblock %}